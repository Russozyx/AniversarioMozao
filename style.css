:root{
  --bordo1:#3b0505;
  --bordo2:#6b0f0f;
  --gold:#d6a54a;
  --paper:#fffdf9;
  --text:#2f0b0b;
}

/* reset simples */
*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:Georgia, 'Times New Roman', serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}
body{background:#120202;overflow:hidden;color:var(--text);}

/* palco */
.stage{position:relative;height:100vh;width:100vw;display:flex;align-items:center;justify-content:center;perspective:1400px}
.bg-gradient{position:absolute;inset:0;background:radial-gradient(circle at 20% 20%, rgba(219,147,97,0.06) 0%, rgba(107,8,8,0.35) 20%, rgba(27,3,3,0.9) 90%);z-index:0;}

/* canvas partículas por cima do gradiente (leve brilho) */
#floaters{position:absolute;inset:0;z-index:1;pointer-events:none}

/* envelope container */
.envelope-wrap{position:relative;z-index:4;display:flex;align-items:center;justify-content:center;}

/* envelope (3D) */
.envelope{
  position:relative;
  width:420px;
  height:280px;
  transform-style:preserve-3d;
  transition: transform 1.2s cubic-bezier(.2,.9,.2,1);
  transform-origin: center bottom;
  cursor:pointer;
  will-change:transform;
}

/* flap (a tampa) */
.envelope-flap{
  position:absolute;
  top:0;
  left:0;
  width:100%;
  height:55%;
  background:linear-gradient(160deg,var(--bordo2),var(--bordo1));
  border-top-left-radius:10px;
  border-top-right-radius:10px;
  box-shadow:0 14px 40px rgba(0,0,0,0.6), inset 0 -6px 18px rgba(0,0,0,0.15);
  transform-origin: top center;
  backface-visibility:hidden;
  transform:rotateX(0deg);
  transition: transform 1s cubic-bezier(.2,.9,.2,1);
  z-index:6;
  border:1px solid rgba(255,215,150,0.06);
}

/* corpo do envelope (parte que segura a carta) */
.envelope-body{
  position:absolute;
  bottom:0;
  left:0;
  width:100%;
  height:55%;
  background:linear-gradient(180deg,#501010,#7a1212);
  border-bottom-left-radius:8px;
  border-bottom-right-radius:8px;
  box-shadow:0 10px 30px rgba(0,0,0,0.6);
  z-index:4;
  border:1px solid rgba(255,215,150,0.03);
}

/* selo */
.seal{
  position:absolute;
  width:96px;height:96px;
  left:50%;
  transform:translateX(-50%);
  top:36px;
  z-index:10;
  filter:drop-shadow(0 6px 18px rgba(0,0,0,0.6));
  transition: transform .9s cubic-bezier(.2,.9,.2,1), opacity .6s;
}

/* carta que sai */
.letter{
  position:absolute;
  left:50%;
  transform:translateX(-50%) translateY(18px) rotateX(18deg);
  top:12px;
  width:380px;
  height:240px;
  z-index:2;
  pointer-events:none;
  transition: transform 1.1s cubic-bezier(.2,.9,.2,1) .4s, opacity .6s;
  opacity:0;
}

/* papel branco elegante */
.paper{
  width:100%;
  height:100%;
  background:var(--paper);
  border-radius:6px;
  box-shadow:0 10px 30px rgba(0,0,0,0.45);
  padding:28px 28px;
  overflow:hidden;
  display:flex;
  flex-direction:column;
  justify-content:flex-start;
}

/* conteúdo do papel */
.paper-content{position:relative;z-index:3}
.paper-content h1{
  font-size:20px;margin:0 0 10px;text-align:center;color:var(--bordo2);letter-spacing:.6px
}
.typed{font-size:16px;line-height:1.85;color:var(--text);white-space:pre-wrap;text-align:justify;min-height:220px}

/* assinatura (aparece no fim) */
.signature{margin-top:10px;text-align:right;color:rgba(50,10,10,0.9);font-style:italic;opacity:0;transition:opacity .9s ease}

/* estado aberto */
.envelope.open .envelope-flap{transform:rotateX(-180deg)}
.envelope.open .letter{transform:translateX(-50%) translateY(-210px) rotateX(0deg);opacity:1}

/* destaque no selo (quando hover para desktop) */
.envelope:hover .seal{transform:translateX(-50%) scale(1.02) rotate(-2deg)}

/* responsividade */
@media (max-width:520px){
  .envelope{width:320px;height:210px}
  .letter{width:290px;height:180px}
  .paper{padding:18px}
  .paper-content h1{font-size:18px}
  .typed{font-size:15px}
  .seal{width:78px;height:78px;top:28px}
}

/* cursor indica interatividade no selo */
#seal{cursor:pointer}
